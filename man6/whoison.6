.th WHOISON VI 8/24/77
.sh NAME
whoison \- give information about who is on the system
.sh SYNOPSIS
.bd whoison
[
.bd \-
] [
.bd \-pufnds
] [
name ...
] [
terminal ...
] [
location
]
.sh DESCRIPTION
.it Whoison
is a program which summarizes the current users of a large system quickly
and sensibly.
Options are:
.s3
.dt
.st
	\fB\-p\fR	list people
.br
	\fB\-u\fR	break down used teletypes
.br
	\fB\-f\fR	break down free teletypes
.br
	\fB\-n\fR	break down unavailable teletypes
.br
	\fB\-d\fR	give ``classwise'' distribution of users
.br
	\fB\-s\fR	summarize used and free
.s3
The default is 
.bd \-pdfs.
The option
.bd \-
only turns all information on.
.s3
.it Whoison
uses a data file
.it winfo
to break the teletypes on the system into classes,
to give patterns, ala
.it glob
(VIII),
for grouping users into
.it classes,
and to map users who are
.it su'd
to the character names of super-users.
.s3
A typical
.it winfo
file would be
.nf

	evans:ABCDEFGHIJKLQRST
	cory:abcdefghijklmnopvwyz+-,
	phone:01234
	11/10:679
	private:58hq.=_%MNOPUVWX#!

	guest:guest*\||\|lhs*
	cc:cc\-*

	root:0:0
	jeff:11:10
	chuck:25:10
	bill:37:10
	ken:12:10
.fi
.i0
.s3
The first group of lines, up to a null line, gives the distribution
of the teletypes, given by the name of the class followed by a `:'
and then the teletypes in the group.
The second group gives the
.it class
names, followed by a `:' and then patterns to match the class names
separated by `|' characters.
Here any user whose login name begins with `guest' or `lhs'
is considered to be a guest.
Finally, the rest of the file is a miniature
.it /etc/passwd
to speed up user name searches.
.s3
If non-flag arguments are given on the command line, these are used instead of
the patterns here, and only users specified by these arguments are given.
The effect is that of specifying the option
.bd \-p
for these people only,
or if the pattern is a single character teletype name,
for the person on that terminal only.
The pattern may also be a location name, i.e.
`evans' in the example above.
Thus `whoison evans' will give the names of the users on the `evans'
terminals.
.s3
A typical output for the Cory System with this data base would be
.s3
.nf
	broderse on c, conn on I and J, csgsa on L, devel on h, englar on 1, 
	guest on R, jeff on 8, joyce on C and D, kaarto on o (as root), mosher on T, 
	root on 5 (as pascal), so on -
	15 used (1 guest), 45 free (8 evans, 19 cory, 4 phone, 3 11/10, 11 private)
.fi
.i0
.sh FILES
.dt
/etc/winfo	data base
.br
/etc/utmp	who data base
.br
/etc/ttys	tty on/off information
.sh SEE\ ALSO
last (VI), sess (VI)
.sh AUTHOR
William Joy
.sh BUGS
