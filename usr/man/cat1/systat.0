


SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



NNAAMMEE
     systat - display system statistics on a crt

SSYYNNOOPPSSIISS
     ssyyssttaatt [ -_d_i_s_p_l_a_y ] [ refresh-interval ]

DDEESSCCRRIIPPTTIIOONN
     SSyyssttaatt displays various system statistics in a screen
     oriented fashion using the curses screen display library,
     _c_u_r_s_e_s(3X).

     While _s_y_s_t_a_t is running the screen is usually divided into
     two windows (an exception is the vmstat display which uses
     the entire screen).  The upper window depicts the current
     system load average.  The information displayed in the lower
     window may vary, depending on user commands.  The last line
     on the screen is reserved for user input and error messages.

     By default _s_y_s_t_a_t displays the processes getting the largest
     percentage of the processor in the lower window.  Other
     displays show swap space usage, disk i/o statistics (a la
     _i_o_s_t_a_t(1)), virtual memory statistics (a la _v_m_s_t_a_t(1)), net-
     work ``mbuf'' utilization, and network connections (a la
     _n_e_t_s_t_a_t(1)).

     Input is interpreted at two different levels. A ``global''
     command interpreter processes all keyboard input.	If this
     command interpreter fails to recognize a command, the input
     line is passed to a per-display command interpreter.  This
     allows each display to have certain display-specific com-
     mands.

     Certain characters cause immediate action by _s_y_s_t_a_t.  These
     are

     ^L   Refresh the screen.

     ^G   Print the name of the current ``display'' being shown
	  in the lower window and the refresh interval.

     ^Z   Stop _s_y_s_t_a_t.

     :	  Move the cursor to the command line and interpret the
	  input line typed as a command.  While entering a com-
	  mand the current character erase, word erase, and line
	  kill characters may be used.

     The following commands are interpreted by the ``global''
     command interpreter.

     help
	  Print the names of the available displays on the



Printed 7/9/88		 October 3, 1987			1






SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



	  command line.

     load
	  Print the load average over the past 1, 5, and 15
	  minutes on the command line.

     stop
	  Stop refreshing the screen.

     [ start ] [ number ]
	  Start (continue) refreshing the screen.  If a second,
	  numeric, argument is provided it is interpreted as a
	  refresh interval (in seconds).  Supplying only a number
	  will set the refresh interval to this value.

     quit
	  Exit _s_y_s_t_a_t.	(This may be abbreviated to _q.)

     The available displays are:

     pigs
	  Display, in the lower window, those processes resident
	  in main memory and getting the largest portion of the
	  processor (the default display). When less than 100% of
	  the processor is scheduled to user processes, the
	  remaining time is accounted to the ``idle'' process.

     iostat
	  Display, in the lower window, statistics about proces-
	  sor use and disk throughput.	Statistics on processor
	  use appear as bar graphs of the amount of time execut-
	  ing in user mode (``user''), in user mode running low
	  priority processes (``nice''), in system mode (``sys-
	  tem''), and idle (``idle'').	Statistics on disk
	  throughput show, for each drive, kilobytes of data
	  transferred, number of disk transactions performed, and
	  average seek time (in milliseconds).	This information
	  may be displayed as bar graphs or as rows of numbers
	  which scroll downward.  Bar graphs are shown by
	  default; commands specific to this display are dis-
	  cussed below.

     swap
	  Display, in the lower window, swap space in use on each
	  swap device configured.  Two sets of bar graphs are
	  shown.  The upper graph displays swap space allocated
	  to pure text segments (code), the lower graph displays
	  space allocated to stack and data segments.  Allocated
	  space is sorted by its size into buckets of size dmmin,
	  dmmin*2, dmmin*4, up to dmmax (to reflect allocation
	  policies imposed by the system).  The disk segment
	  size, in sectors, is displayed along the left hand side



Printed 7/9/88		 October 3, 1987			2






SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



	  of the text, and data and stack graphs.  Space allo-
	  cated to the user structure and page tables is not
	  currently accounted for.

     mbufs
	  Display, in the lower window, the number of mbufs allo-
	  cated for particular uses, i.e. data, socket struc-
	  tures, etc.

     vmstat
	  Take over the entire display and show a (rather
	  crowded) compendium of statistics related to virtual
	  memory usage, process scheduling, device interrupts,
	  system name translation cacheing, disk i/o, etc.

	  The upper left quadrant of the screen shows the number
	  of users logged in and the load average over the last
	  one, five, and fifteen minute intervals.  Below this
	  line are statistics on memory utilization.  The first
	  row of the table reports memory usage only among active
	  processes, that is processes that have run in the pre-
	  vious twenty seconds.  The second row reports on memory
	  usage of all processes.  The first column reports on
	  the number of physical pages claimed by processes.  The
	  second column reports the number of physical pages that
	  are devoted to read only text pages.	The third and
	  fourth columns report the same two figures for virtual
	  pages, that is the number of pages that would be needed
	  if all processes had all of their pages.  Finally the
	  last column shows the number of physical pages on the
	  free list.

	  Below the memory display is the disk usage display.  It
	  reports the number of seeks, transfers, and number of
	  kilobyte blocks transferred per second averaged over
	  the refresh period of the display (by default, five
	  seconds).  For some disks it also reports the average
	  milliseconds per seek.  Note that the system only keeps
	  statistics on at most four disks.

	  Below the disk display is a list of the average number
	  of processes (over the last refresh interval) that are
	  runnable (`r'), in page wait (`p'), in disk wait other
	  than paging (`d'), sleeping (`s'), and swapped out but
	  desiring to run (`w').  Below the queue length listing
	  is a numerical listing and a bar graph showing the
	  amount of system (shown as `='), user (shown as `>'),
	  nice (shown as `-'), and idle time (shown as ` ').

	  At the bottom left are statistics on name translations.
	  It lists the number of names translated in the previous
	  interval, the number and percentage of the translations



Printed 7/9/88		 October 3, 1987			3






SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



	  that were handled by the system wide name translation
	  cache, and the number and percentage of the transla-
	  tions that were handled by the per process name trans-
	  lation cache.

	  Under the date in the upper right hand quadrant are
	  statistics on paging and swapping activity.  The first
	  two columns report the average number of pages brought
	  in and out per second over the last refresh interval
	  due to page faults and the paging daemon.  The third
	  and fourth columns report the average number of pages
	  brought in and out per second over the last refresh
	  interval due to swap requests initiated by the
	  scheduler.  The first row of the display shows the
	  average number of disk transfers per second over the
	  last refresh interval; the second row of the display
	  shows the average number of pages transferred per
	  second over the last refresh interval.

	  Below the paging statistics is a line listing the aver-
	  age number of total reclaims ('Rec'), intransit block-
	  ing page faults (`It'), swap text pages found in free
	  list (`F/S'), file system text pages found in free list
	  (`F/F'), reclaims from free list (`RFL'), pages freed
	  by the clock daemon (`Fre'), and sequential process
	  pages freed (`SFr') per second over the refresh inter-
	  val.

	  Below this line are statistics on the average number of
	  zero filled pages (`zf') and demand filled text pages
	  (`xf') per second over the refresh period.  The first
	  row indicates the number of requests that were
	  resolved, the second row shows the number that were set
	  up, and the last row shows the percentage of setup
	  requests were actually used.	Note that this percentage
	  is usually less than 100%, however it may exceed 100%
	  if a large number of requests are actually used long
	  after they were set up during a period when no new
	  pages are being set up. Thus this figure is most
	  interesting when observed over a long time period, such
	  as from boot time (see below on getting such a
	  display).

	  Below the page fill statistics is a column that lists
	  the average number of context switches (`Csw'), traps
	  (`Trp'; includes page faults), system calls (`Sys'),
	  interrupts (`Int'), characters output to DZ ports using
	  pseudo-DMA (`Pdm'), network software interrupts
	  (`Sof'), page faults (`Flt'), pages scanned by the page
	  daemon (`Scn'), and revolutions of the page daemon's
	  hand (`Rev') per second over the refresh interval.




Printed 7/9/88		 October 3, 1987			4






SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



	  Running down the right hand side of the display is a
	  breakdown of the interrupts being handled by the sys-
	  tem.	At the top of the list is the total interrupts
	  per second over the time interval.  The rest of the
	  column breaks down the total on a device by device
	  basis. Only devices that have interrupted at least once
	  since boot time are shown.

     netstat
	  Display, in the lower window, network connections.  By
	  default, network servers awaiting requests are not
	  displayed.  Each address is displayed in the format
	  ``host.port'', with each shown symbolically, when pos-
	  sible.  It is possible to have addresses displayed
	  numerically, limit the display to a set of ports,
	  hosts, and/or protocols; see the list of commands
	  below.

     Commands to switch between displays may be abbreviated to
     the minimum unambiguous prefix; for example, ``io'' for
     ``iostat''.  Certain information may be discarded when the
     screen size is insufficient for display.  For example, on a
     machine with 10 drives the _i_o_s_t_a_t bar graph displays only 3
     drives on a 24 line terminal.  When a bar graph would over-
     flow the allotted screen space it is truncated and the
     actual value is printed ``over top'' of the bar.

     The following commands are specific to the _i_o_s_t_a_t display;
     the minimum unambiguous prefix may be supplied.

     numbers
	  Show the disk i/o statistics in numeric form.  Values
	  are displayed in numeric columns which scroll downward.

     bars Show the disk i/o statistics in bar graph form
	  (default).

     msps Toggle the display of average seek time (the default is
	  to not display seek times).

     The following commands are specific to the _v_m_s_t_a_t display;
     the minimum unambiguous prefix may be supplied.

     boot Display cumulative statistics since the system was
	  booted.

     run  Display statistics as a running total from the point
	  this command is given.

     time Display statistics averaged over the refresh interval
	  (the default).




Printed 7/9/88		 October 3, 1987			5






SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



     zero Reset running statistics to zero.

     The following commands are common to each display which
     shows information about disk drives.  These commands are
     used to select a set of drives to report on, should your
     system have more drives configured than can normally be
     displayed on the screen.

     ignore [ drives ]
	  Do not display information about the drives indicated.
	  Multiple drives may be specified, separated by spaces.

     display [ drives ]
	  Display information about the drives indicated.  Multi-
	  ple drives may be specified, separated by spaces.

     The following command is specific to the _n_e_t_s_t_a_t display;
     the minimum unambiguous prefix may be supplied.

     all  Toggle the displaying of server processes awaiting
	  requests (this is the equivalent of the --aa flag to
	  _n_e_t_s_t_a_t(1)).

     numbers
	  Display network addresses numerically.

     names
	  Display network addresses symbolically.

     The remaining commands are common to displays which report
     network connections (currently only the _n_e_t_s_t_a_t display).
     These commands may be used to select a specific set of con-
     nections for _s_y_s_t_a_t to report on.

     _p_r_o_t_o_c_o_l
	  Display only network connections using the indicated
	  protocol (currently either ``tcp'' or ``udp'').

     ignore [items]
	  Do not display information about connections associated
	  with the specified hosts or ports.  Hosts and ports may
	  be specified by name (``ucbmonet'', ``ftp''), or numer-
	  ically.  Host addresses use the Internet dot notation
	  (``128.32.0.9'').  Multiple items may be specified with
	  a single command by separating them with spaces.

     display [items]
	  Display information about the connections associated
	  with the specified hosts or ports.  As for _i_g_n_o_r_e,
	  _i_t_e_m_s may be names or numbers.

     show [ports|hosts]



Printed 7/9/88		 October 3, 1987			6






SYSTAT(1)	    UNIX Programmer's Manual		SYSTAT(1)



	  Show, on the command line, the currently selected pro-
	  tocols, hosts, and ports.  Hosts and ports which are
	  being ignored are prefixed with a `!'.  If _p_o_r_t_s or
	  _h_o_s_t_s is supplied as an argument to _s_h_o_w, then only the
	  requested information will be displayed.

     reset
	  Reset the port, host, and protocol matching mechanisms
	  to the default (any protocol, port, or host).

FFIILLEESS
     /vmunix	     for the namelist
     /dev/kmem	     for information in main memory
     /dev/drum	     for information about swapped out processes
     /etc/hosts      for host names
     /etc/networks   for network names
     /etc/services   for port names

AAUUTTHHOORR
     The unknown hacker.  The _p_i_g_s display is derived from a pro-
     gram of the same name written by Bill Reeves.

BBUUGGSS
     Takes 2-10 percent of the cpu.  Certain displays presume a
     24 line by 80 character terminal.	The swap space display
     should account for space allocated to the user structure and
     page tables.  The _v_m_s_t_a_t display looks out of place because
     it is (it was added in as a separate display rather than
     create a new program).

     The whole thing is pretty hokey and was included in the dis-
     tribution under serious duress.























Printed 7/9/88		 October 3, 1987			7



