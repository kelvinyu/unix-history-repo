##############################################################################
#    Instructions to Make, for generation of MH manual entries
#
#	This file is automatically generated.  Do not edit!
##############################################################################

BINDIR  =	$(DESTDIR)/usr/new/mh
ETCDIR	=	$(DESTDIR)/usr/new/lib/mh
MANDIR	=	/usr/man
DIR1	=	mann
EXT1	=	n
DIR5	=	mann
EXT5	=	n
DIR8	=	mann
EXT8	=	n
REMOVE	=	mv -f
MANPROT	=	0444

MAN1	=	ali.$(EXT1) anno.$(EXT1) burst.$(EXT1) comp.$(EXT1) \
		dist.$(EXT1) folder.$(EXT1) forw.$(EXT1) inc.$(EXT1) \
		mark.$(EXT1) mh-chart.$(EXT1) mh.$(EXT1) mhl.$(EXT1) \
		mhook.$(EXT1) mhmail.$(EXT1) mhpath.$(EXT1) msgchk.$(EXT1) \
		msh.$(EXT1) next.$(EXT1) packf.$(EXT1) pick.$(EXT1) \
		prev.$(EXT1) prompter.$(EXT1) refile.$(EXT1) repl.$(EXT1) \
		rmf.$(EXT1) rmm.$(EXT1) scan.$(EXT1) send.$(EXT1) \
		show.$(EXT1) sortm.$(EXT1) vmh.$(EXT1) whatnow.$(EXT1) \
		whom.$(EXT1)
man1	=	ali anno burst comp dist folder forw inc mark mh-chart mh mhl \
		mhook mhmail mhpath msgchk msh next packf pick prev prompter \
		refile repl rmf rmm scan send show sortm vmh whatnow whom \
		$(options1) $(options2)
inst-man1=	inst-ali inst-anno inst-burst inst-comp inst-dist inst-folder \
		inst-forw inst-inc inst-mark inst-mh-chart inst-mh inst-mhl \
		inst-mhook inst-mhmail inst-mhpath inst-msgchk inst-msh \
		inst-next inst-packf inst-pick inst-prev inst-prompter \
		inst-refile inst-repl inst-rmf inst-rmm inst-scan inst-send \
		inst-show inst-sortm inst-vmh inst-whatnow inst-whom \
		$(inst-options1) $(inst-options2)
Tman1	=	ali.man anno.man burst.man comp.man dist.man folder.man \
		forw.man inc.man mark.man mh-chart.man mh.man mhl.man \
		mhook.man mhmail.man mhpath.man msgchk.man msh.man next.man \
		packf.man pick.man prev.man prompter.man refile.man repl.man \
		rmf.man rmm.man scan.man send.man show.man sortm.man vmh.man \
		whatnow.man whom.man $(Toptions1) $(Toptions2)

MAN5	=	mh-alias.$(EXT5) mh-format.$(EXT5) mh-mail.$(EXT5) \
		mh-profile.$(EXT5)
man5	=	mh-alias mh-format mh-mail mh-profile
inst-man5=	inst-mh-alias inst-mh-format inst-mh-mail inst-mh-profile
Tman5	=	mh-alias.man mh-format.man mh-mail.man mh-profile.man

MAN8	=	ap.$(EXT8) conflict.$(EXT8) dp.$(EXT8) install-mh.$(EXT8) \
		post.$(EXT8)
man8	=	ap conflict dp install-mh post
inst-man8=	inst-ap inst-conflict inst-dp inst-install-mh inst-post
Tman8	=	ap.man conflict.man dp.man install-mh.man post.man

##############################################################################
#	Generation Rules
##############################################################################

.SUFFIXES:	.me .cat .doc .man .imp

.me.cat:;	itroff -t -me $< > $@

.me.doc:;	nroff -me $< > $@

.me.man:;	cat tmac.me $< > $@

.cat.imp:;	catimp -i $@ $<


##############################################################################
#	Generate MH manual entries
##############################################################################

all:		 $(man1) $(man5) $(man8)

install:	inst-all clean

inst-all:	 inst-tmac $(inst-man1) $(inst-man5) $(inst-man8)

tar:		 $(Tman1) $(Tman5) $(Tman8)
		 @touch tmac.h $(Tman1) $(Tman5) $(Tman8)
		 @make -n inst-all > MAKEDOC
		 @chmod +x MAKEDOC
		 tar $(TFLAGS) MAKEDOC tmac.h $(Tman1) $(Tman5) $(Tman8)
		 @rm -f MAKEDOC

uninstall:;	cd $(MANDIR)/$(DIR1) ; rm -f $(MAN1) 
		cd $(MANDIR)/$(DIR5) ; rm -f $(MAN5)
		cd $(MANDIR)/$(DIR8) ; rm -f $(MAN8)


##############################################################################
#	Generate MH User's Manual/Administrator's Guide
##############################################################################

i-all:		manual guide

i-print:	manual guide true
		lpr -t -J MH MH.cat
		lpr -t -J MH ADMIN.cat


manual:		MH.cat

guide:		ADMIN.cat

true:;


##############################################################################
#	MH manual entries
##############################################################################

inst-tmac:	$(ETCDIR)/tmac.h

$(ETCDIR)/tmac.h:	tmac.h
		install -m $(MANPROT) -c tmac.h $@


inst-ali:	$(MANDIR)/$(DIR1)/ali.$(EXT1)

$(MANDIR)/$(DIR1)/ali.$(EXT1):	ali.man
		install -m $(MANPROT) -c ali.man $@

inst-anno:	$(MANDIR)/$(DIR1)/anno.$(EXT1)

$(MANDIR)/$(DIR1)/anno.$(EXT1):	anno.man
		install -m $(MANPROT) -c anno.man $@

inst-ap:	$(MANDIR)/$(DIR8)/ap.$(EXT8)

$(MANDIR)/$(DIR8)/ap.$(EXT8):	ap.man
		install -m $(MANPROT) -c ap.man $@

inst-bbc:	$(MANDIR)/$(DIR1)/bbc.$(EXT1)

$(MANDIR)/$(DIR1)/bbc.$(EXT1):	bbc.man
		install -m $(MANPROT) -c bbc.man $@

inst-bbl:	$(MANDIR)/$(DIR1)/bbl.$(EXT1)

$(MANDIR)/$(DIR1)/bbl.$(EXT1):	bbl.man
		install -m $(MANPROT) -c bbl.man $@

inst-bbleader:	$(MANDIR)/$(DIR1)/bbleader.$(EXT1)

$(MANDIR)/$(DIR1)/bbleader.$(EXT1):	bbleader.man
		install -m $(MANPROT) -c bbleader.man $@

inst-bboards:	$(MANDIR)/$(DIR1)/bboards.$(EXT1)

$(MANDIR)/$(DIR1)/bboards.$(EXT1):	bboards.man
		install -m $(MANPROT) -c bboards.man $@

inst-burst:	$(MANDIR)/$(DIR1)/burst.$(EXT1)

$(MANDIR)/$(DIR1)/burst.$(EXT1):	burst.man
		install -m $(MANPROT) -c burst.man $@

inst-cipher:	$(MANDIR)/$(DIR1)/cipher.$(EXT1)

$(MANDIR)/$(DIR1)/cipher.$(EXT1):	cipher.man
		install -m $(MANPROT) -c cipher.man $@

inst-comp:	$(MANDIR)/$(DIR1)/comp.$(EXT1)

$(MANDIR)/$(DIR1)/comp.$(EXT1):	comp.man
		install -m $(MANPROT) -c comp.man $@

inst-conflict:	$(MANDIR)/$(DIR8)/conflict.$(EXT8)

$(MANDIR)/$(DIR8)/conflict.$(EXT8):	conflict.man
		install -m $(MANPROT) -c conflict.man $@

inst-decipher:	$(MANDIR)/$(DIR1)/decipher.$(EXT1)

$(MANDIR)/$(DIR1)/decipher.$(EXT1):	decipher.man
		install -m $(MANPROT) -c decipher.man $@

inst-dist:	$(MANDIR)/$(DIR1)/dist.$(EXT1)

$(MANDIR)/$(DIR1)/dist.$(EXT1):	dist.man
		install -m $(MANPROT) -c dist.man $@

inst-dp:	$(MANDIR)/$(DIR8)/dp.$(EXT8)

$(MANDIR)/$(DIR8)/dp.$(EXT8):	dp.man
		install -m $(MANPROT) -c dp.man $@

inst-folder:	$(MANDIR)/$(DIR1)/folder.$(EXT1)

$(MANDIR)/$(DIR1)/folder.$(EXT1):	folder.man
		install -m $(MANPROT) -c folder.man $@

inst-forw:	$(MANDIR)/$(DIR1)/forw.$(EXT1)

$(MANDIR)/$(DIR1)/forw.$(EXT1):	forw.man
		install -m $(MANPROT) -c forw.man $@

inst-inc:	$(MANDIR)/$(DIR1)/inc.$(EXT1)

$(MANDIR)/$(DIR1)/inc.$(EXT1):	inc.man
		install -m $(MANPROT) -c inc.man $@

inst-install-mh: $(MANDIR)/$(DIR8)/install-mh.$(EXT8)

$(MANDIR)/$(DIR8)/install-mh.$(EXT8): install-mh.man
		install -m $(MANPROT) -c install-mh.man $@

inst-mark:	$(MANDIR)/$(DIR1)/mark.$(EXT1)

$(MANDIR)/$(DIR1)/mark.$(EXT1):	mark.man
		install -m $(MANPROT) -c mark.man $@

inst-mh-alias:	$(MANDIR)/$(DIR5)/mh-alias.$(EXT5)

$(MANDIR)/$(DIR5)/mh-alias.$(EXT5):	mh-alias.man
		install -m $(MANPROT) -c mh-alias.man $@

inst-mh-format:	$(MANDIR)/$(DIR5)/mh-format.$(EXT5)

$(MANDIR)/$(DIR5)/mh-format.$(EXT5):	mh-format.man
		install -m $(MANPROT) -c mh-format.man $@

inst-mh-chart:	$(MANDIR)/$(DIR1)/mh-chart.$(EXT1)

$(MANDIR)/$(DIR1)/mh-chart.$(EXT1):	mh-chart.man
		install -m $(MANPROT) -c mh-chart.man $@

inst-mh-mail:	$(MANDIR)/$(DIR5)/mh-mail.$(EXT5)

$(MANDIR)/$(DIR5)/mh-mail.$(EXT5):	mh-mail.man
		install -m $(MANPROT) -c mh-mail.man $@

inst-mh-profile:	$(MANDIR)/$(DIR5)/mh-profile.$(EXT5)

$(MANDIR)/$(DIR5)/mh-profile.$(EXT5):	mh-profile.man
		install -m $(MANPROT) -c mh-profile.man $@

inst-mhook:	$(MANDIR)/$(DIR1)/mhook.$(EXT1)

$(MANDIR)/$(DIR1)/mhook.$(EXT1):	mhook.man
		install -m $(MANPROT) -c mhook.man $@

inst-mh:	$(MANDIR)/$(DIR1)/mh.$(EXT1)

$(MANDIR)/$(DIR1)/mh.$(EXT1):	mh.man
		install -m $(MANPROT) -c mh.man $@

inst-mhl:	$(MANDIR)/$(DIR1)/mhl.$(EXT1)

$(MANDIR)/$(DIR1)/mhl.$(EXT1):	mhl.man
		install -m $(MANPROT) -c mhl.man $@

inst-mhmail:	$(MANDIR)/$(DIR1)/mhmail.$(EXT1)

$(MANDIR)/$(DIR1)/mhmail.$(EXT1):	mhmail.man
		install -m $(MANPROT) -c mhmail.man $@

inst-mhpath:	$(MANDIR)/$(DIR1)/mhpath.$(EXT1)

$(MANDIR)/$(DIR1)/mhpath.$(EXT1):	mhpath.man
		install -m $(MANPROT) -c mhpath.man $@

inst-msgchk:	$(MANDIR)/$(DIR1)/msgchk.$(EXT1)

$(MANDIR)/$(DIR1)/msgchk.$(EXT1):	msgchk.man
		install -m $(MANPROT) -c msgchk.man $@

inst-msh:	$(MANDIR)/$(DIR1)/msh.$(EXT1)

$(MANDIR)/$(DIR1)/msh.$(EXT1):	msh.man
		install -m $(MANPROT) -c msh.man $@

inst-next:	$(MANDIR)/$(DIR1)/next.$(EXT1)

$(MANDIR)/$(DIR1)/next.$(EXT1):	next.man
		install -m $(MANPROT) -c next.man $@

inst-packf:	$(MANDIR)/$(DIR1)/packf.$(EXT1)

$(MANDIR)/$(DIR1)/packf.$(EXT1):	packf.man
		install -m $(MANPROT) -c packf.man $@

inst-pick:	$(MANDIR)/$(DIR1)/pick.$(EXT1)

$(MANDIR)/$(DIR1)/pick.$(EXT1):	pick.man
		install -m $(MANPROT) -c pick.man $@

inst-post:	$(MANDIR)/$(DIR8)/post.$(EXT8)

$(MANDIR)/$(DIR8)/post.$(EXT8):	post.man
		install -m $(MANPROT) -c post.man $@

inst-prev:	$(MANDIR)/$(DIR1)/prev.$(EXT1)

$(MANDIR)/$(DIR1)/prev.$(EXT1):	prev.man
		install -m $(MANPROT) -c prev.man $@

inst-prompter:	$(MANDIR)/$(DIR1)/prompter.$(EXT1)

$(MANDIR)/$(DIR1)/prompter.$(EXT1):	prompter.man
		install -m $(MANPROT) -c prompter.man $@

inst-refile:	$(MANDIR)/$(DIR1)/refile.$(EXT1)

$(MANDIR)/$(DIR1)/refile.$(EXT1):	refile.man
		install -m $(MANPROT) -c refile.man $@

inst-repl:	$(MANDIR)/$(DIR1)/repl.$(EXT1)

$(MANDIR)/$(DIR1)/repl.$(EXT1):	repl.man
		install -m $(MANPROT) -c repl.man $@

inst-rmm:	$(MANDIR)/$(DIR1)/rmm.$(EXT1)

$(MANDIR)/$(DIR1)/rmm.$(EXT1):	rmm.man
		install -m $(MANPROT) -c rmm.man $@

inst-rmf:	$(MANDIR)/$(DIR1)/rmf.$(EXT1)

$(MANDIR)/$(DIR1)/rmf.$(EXT1):	rmf.man
		install -m $(MANPROT) -c rmf.man $@

inst-scan:	$(MANDIR)/$(DIR1)/scan.$(EXT1)

$(MANDIR)/$(DIR1)/scan.$(EXT1):	scan.man
		install -m $(MANPROT) -c scan.man $@

inst-send:	$(MANDIR)/$(DIR1)/send.$(EXT1)

$(MANDIR)/$(DIR1)/send.$(EXT1):	send.man
		install -m $(MANPROT) -c send.man $@

inst-show:	$(MANDIR)/$(DIR1)/show.$(EXT1)

$(MANDIR)/$(DIR1)/show.$(EXT1):	show.man
		install -m $(MANPROT) -c show.man $@

inst-sortm:	$(MANDIR)/$(DIR1)/sortm.$(EXT1)

$(MANDIR)/$(DIR1)/sortm.$(EXT1):	sortm.man
		install -m $(MANPROT) -c sortm.man $@

inst-tma:	$(MANDIR)/$(DIR1)/tma.$(EXT1)

$(MANDIR)/$(DIR1)/tma.$(EXT1):	tma.man
		install -m $(MANPROT) -c tma.man $@

inst-vmh:	$(MANDIR)/$(DIR1)/vmh.$(EXT1)

$(MANDIR)/$(DIR1)/vmh.$(EXT1):	vmh.man
		install -m $(MANPROT) -c vmh.man $@

inst-whatnow:	$(MANDIR)/$(DIR1)/whatnow.$(EXT1)

$(MANDIR)/$(DIR1)/whatnow.$(EXT1):	whatnow.man
		install -m $(MANPROT) -c whatnow.man $@

inst-whom:	$(MANDIR)/$(DIR1)/whom.$(EXT1)

$(MANDIR)/$(DIR1)/whom.$(EXT1):	whom.man
		install -m $(MANPROT) -c whom.man $@


##############################################################################
#	Dependencies
##############################################################################

ali:		ali.man
anno:		anno.man
ap:		ap.man
bbc:		bbc.man
bbl:		bbl.man
bbleader:	bbleader.man
bboards:	bboards.man
burst:		burst.man
cipher:		cipher.man
comp:		comp.man
conflict:	conflict.man
decipher:	decipher.man
dist:		dist.man
dp:		dp.man
folder:		folder.man
forw:		forw.man
inc:		inc.man
install-mh:	install-mh.man
mark:		mark.man
mh-alias:	mh-alias.man
mh-format:	mh-format.man
mh-chart:	mh-chart.man
mh-mail:	mh-mail.man
mh-profile:	mh-profile.man
mhook:		mhook.man
mh:		mh.man
mhl:		mhl.man
mhmail:		mhmail.man
mhpath:		mhpath.man
msgchk:		msgchk.man
msh:		msh.man
next:		next.man
packf:		packf.man
pick:		pick.man
post:		post.man
prev:		prev.man
prompter:	prompter.man
refile:		refile.man
repl:		repl.man
rmf:		rmf.man
rmm:		rmm.man
scan:		scan.man
send:		send.man
show:		show.man
sortm:		sortm.man
tma:		tma.man
vmh:		vmh.man
whatnow:	whatnow.man
whom:		whom.man

MH.cat MH.doc:	ali.me anno.me bbc.me bbl.me bbleader.me bboards.me comp.me \
		dist.me folder.me forw.me inc.me mark.me mh-chart.me mh.me \
		mhl.me mhmail.me mhook.me mhpath.me msgchk.me msh.me next.me \
		packf.me pick.me prev.me prompter.me refile.me repl.me rmf.me \
		rmm.me scan.me send.me show.me sortm.me vmh.me whatnow.me \
		whom.me mh-alias.me mh-format.me mh-mail.me mh-profile.me \
		ap.me conflict.me dp.me install-mh.me post.me \
		version.rf

ADMIN.cat ADMIN.doc: \
		mh-tailor.me mh-mts.me \
		bboards5.me bbaka.me bbexp.me bboards8.me bbtar.me \
		pop5.me pop8.me popaka.me popd.me popwrd.me \
		mf.me rmail.me \
		mh-hack.me \
		version.rf


##############################################################################
#	Miscellaneous tasks
##############################################################################

lint:;		

distribution:	clean
		-rm -f *.me tmac.h

clean:		unclean
		-rm -f *.man *.doc *.cat *.imp

unclean:;	-rm -f z* _* :* core MAKEDOC

depend:;


##############################################################################
#  MODIFICATIONS -- Adding a new program (e.g., pickle [section n])
##############################################################################

#    Add pickle.$(EXT[N]) to MAN[N]
#    Add pickle to man[n]
#    Add inst-pickle to inst-man[n]
#    Add pickle.man to Tman[n]
#
#    Under the "MH manual entries" section, add this incantation
#	inst-pickle:	$(MANDIR)/$(DIR[n])/pickle.$(EXT[n])
#	
#	$(MANDIR)/$(DIR[n])/pickle.$(EXT[n]):	pickle.man
#			cp pickle.man $@
#
#    Under the "Dependencies" section, add a line for pickle
#	pickle:		pickle.man
#
#    Add pickle.me to MH.cat
