.\"	@(#)NBSproposal.11.88	1.1	88/11/14
.\" *troff -ms
.de CO
.br
\s-1\\fI<\\$1: \\$2>\\fR\s+1
.br
..
.ds DT "
.rm CM
.sp 2
.ce 100
\fB\s+2Berkeley UNIX Project Funding Proposal\s-2\fP
.sp .5
\fBDRAFT of \*(DT\fP
.ce 0
.sp 2
.nf
.ce 4
Marshall Kirk McKusick
Michael J Karels
Susan L. Graham
Domenico Ferrari
.fi
.sp 2
.ce 1
\fISummary\fP
.PP
The goal of the Computer Systems Research Group at Berkeley
is to apply leading edge research ideas into a stable
and reliable implementation that solves current problems in
operating systems research.
Since the release of 4.3BSD in mid 1986,
we have been working on five major new areas of research.
.IP 1)
Develop an OSI network protocol suite and to integrate
existing ISO applications into Berkeley UNIX.
The network architecture of 4.2BSD was designed to accommodate
multiple network protocol families and address formats,
and an implementation of the ISO OSI network protocols
should fit this framework without much difficulty.
.IP 2)
Bring the Berkeley UNIX kernel into compliance
with the P1003.1 POSIX interface recently approved by the IEEE.
Converting the kernel to be POSIX compliant requires
the completion of several new kernel facilities including
a new terminal driver and job control facilities.
.IP 3)
Refine the TCP/IP networking to improve
its performance and limit congestion on slow and/or lossy networks.
Since the most recent networking release,
additional performance experiments have been done by
Van Jacobson of the Lawrence Berkeley Laboratory;
the resulting performance improvements are ready
to be merged into the Berkeley TCP.
.IP 4)
Provide a standard interface to file systems
so that multiple local and remote file systems can be supported,
much as multiple networking protocols are supported by 4.3BSD.
The proposal currently under development
adopts the 4.3BSD calling convention for file name lookup
but otherwise is closely related to Sun's VFS.
We ultimately hope to support a public domain implementation of Sun's NFS.
.IP 5)
The recent invasion of the ARPANET by a quickly reproducing worm
highlighted the need for a through review of the access
safeguards built into the system.
We are proposing that a complete audit be made of the system
utilities to check for and eliminate unintended system access mechanisms.
Part of this proposal would include the addition of a real
authentication mechanism for utilities such as
telnet, login, remote shell, etc.
.PP
We are planning to implement prototypes for each of these
five main areas of work over the period of this proposal.
We plan to do an informal release during the proposal period
to interested developers.
After incorporating feedback and refinements from the testers,
the work will appear in the next full Berkeley release that typically
is made about a year after the test release.
.br
.ne 10
.sp 2
.NH
Current UNIX Research at Berkeley
.PP
Since the release of 4.3BSD in mid 1986,
we have begun work on three major new areas of research.
Our goal is to apply leading edge research ideas into a stable
and reliable implementation that solves current problems in
operating systems research.
.NH 2
OSI Network Protocol Development
.PP
The network architecture of 4.2BSD was designed to accommodate
multiple network protocol families and address formats.
Our current prototype implementation of the ISO OSI network protocols
is fitting into this framework without much difficulty.
The outline of the proposal is to
implement the OSI connectionless internet protocol (CLNP),
and device drivers for X.25, 802.3, and possibly 802.5 interfaces, and
to integrate these with an OSI transport class 4 (TP-4) implementation.
We will receive an updated ISO Development Environment (ISODE)
and incorporate these into the Berkeley Software Distribution.
ISODE implements the session and presentation layers of the OSI protocol suite,
and will include an implementation of the file transfer protocol FTAM.
If possible, an X.400 implementation now being done at University College,
London and the University of Nottingham will also be available for testing
and distribution.
This work will include participation in
interoperability tests with vendors and users on OSINET.
.CO sklower "refine this into accomplishments and what we still have to do
.PP
Several structural changes need to be made to the networking
to provide the functionality necessary to support the OSI
protocols, and to improve throughput.
These changes include a new network buffer layout and a
prototype header size.
Additionally, the layering needs improved communication between
the layers, particularly between the  network layer and the
three services that it interacts with, address resolution protocol
(ARP), routing, and the transport level.
.CO karels/sklower "elaborate on this
.NH 2
Compliance with POSIX 1003
.PP
Bringing the Berkeley UNIX kernel into compliance
with the P1003.1 POSIX interface recently approved by the IEEE
requires two major projects and many smaller ones.
The first major project is the development
of a completely new terminal driver.
The new terminal driver must have a binary compatibility interface
to allow a transition path for programs using the old Berkeley
terminal driver.
The other major project is the development of a
POSIX session and job control implementation.
Those system utilities that create sessions and manipulate jobs must
be converted to use the new facilities.
The smaller POSIX related changes that must be made
include expanded signal functionality,
restructured directory access routines,
and new set-user-identifier functionality.
.CO mckusick "expand on what needs to be done
.NH 2
Improvements to the TCP/IP Networking Protocols
.PP
The Internet and the Berkeley collection of local-area networks
have both grown at high rates in the last year.
The Bay Area Regional Research Network (BARRNet),
connecting several UC campuses, Stanford and NASA-Ames
has recently become operational, increasing the complexity
of the network connectivity.
Both Internet and local routing algorithms are showing the strain
of continued growth.
We have made several changes in the local routing algorithm
to keep accommodating the current topology,
and are participating in the development of new routing algorithms
and protocols.
.CO karels "discussion of EGP3, gated, OSPFIGP, ...
.PP
Refine the TCP/IP networking to improve
its performance and limit congestion on slow and/or lossy networks.
.CO karels "header prediction, window(?), congestion control - random drops
.PP
We are also considering adding VMTP and multicasting
networking from David Cheriton at Stanford.
.CO karels "comments or elaboration
.NH 2
Toward a Compatible File System Interface
.PP
The most critical shortcoming of our current UNIX system is in the
area of distributed file systems.
As with networking protocols,
there is no single distributed file system
that provides enough speed and functionality for all problems.
It is frequently necessary to support several different remote
file system protocols, just as it is necessary to run several 
different network protocols.
The proposal currently under development
adopts the 4.3BSD calling convention for file name lookup
and allows stateful file systems,
but otherwise is closely related to Sun's virtual file system interface.
We do not intend to develop our own remote file system protocol,
but rather intend to fully support the existing local file system
semantics and Sun's network file system (NFS).
We are currently negotiating with several groups that have
developed their own implementations of NFS to convince them to
contribute their code to Berkeley so that BSD
will not require a Sun NFS license.
.NH 2
System Security Audit
.PP
The recent invasion of the ARPANET by a quickly reproducing worm
highlighted the need for a through review of the access
safeguards built into the system.
Until now we have taken a passive approach to dealing with
weaknesses in the system access mechanisms.
Our current procedure is to wait until we are notified by one of our
users of a problem or loophole in a system utility.
Once aware of the problem,
we have a well defined procedure for fixing the problem and 
expeditiously disseminating the fix to the BSD mailing list.
This procedure has proven itself to be effective in
solving known problems as they arise
(witness its success in handling the recent worm).
However, we feel that it would be useful to take a more active
role in identifying problems before they are reported (or exploited).
We are proposing that a complete audit be made of the system
utilities to find unintended system access mechanisms.
Once identified, we anticipate that they could be corrected
through the existing mechanism.
.PP
A major shortcoming of the present system is that authentication
over the network is based solely on the privileged port mechanism.
Although privileged ports can only be created by processes running as root,
such processes are easy for a workstation user to obtain;
they simply reboot their workstation single user.
Thus, a real authentication mechanism is needed.
At present, we believe that the MIT Kerberos authentication
server provides the best solution to this problem.
We propose to further investigate Kerberos as well as other
authentication mechanisms and then integrating
the best one into Berkeley UNIX.
Part of this integration would be the addition of the
authentication mechanism into utilities such as
telnet, login, remote shell, etc.
.PP
We have taken an active involvement in helping
to define host requirements.
.CO karels "discuss TOS, gateway disc.
.ne 10
.sp 2
.NH
Project Schedule
.PP
The first four points outlined above are already underway.
We anticipate that we will have working prototypes early in 1989.
When the prototypes are moderately stable and functional,
we will produce a test release which we will distribute to
our alpha sites for testing and feedback.
If major design flaws turn up during the alpha testing,
we will reenter the development phase to resolve the problems.
Otherwise, we will proceed to put together a polished distribution.
