.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\"
.\"	@(#)timed.8	1.1 (Berkeley) %G%
.\"
.TH TIMED 8 ""
.UC 6
.ad
.SH NAME
timed \- time server daemon
.SH SYNOPSIS
.B /etc/timed
[ -t ] [ -M ] [ -n network ]
.SH DESCRIPTION
.I Timed
is the time server daemon and is normally invoked
at boot time from the
.IR rc (8)
file.  
It synchronizes the host's time with the time of other
machines in a local area network running 
.IR timed (8).
These time servers will slow down the clocks of some machines
and speed up the clocks of others to bring them to the average network time.
.PP
The service provided by \fItimed\fP is based  on a master-slave
scheme.
When
.IR timed (8)
is started on a machine, it asks the master for the network time
and sets the host's clock to that time.
After that, it accepts synchronization messages periodically sent by
the master and calls 
.IR adjtime (2)
to perform the needed corrections on the host's clock.
.PP
It also communicates with
.IR date (1)
in order to set the date globally,
and with 
.IR timedc (8),
a timed control program.
If the machine running the master crashes, then the slaves will elect
a new master from among slaves running with the 
.B \-M
flag.
A
.IR timed
running without the
.B \-M
flag will remain a slave.
The 
.B \-t 
flag enables \fItimed\fP to trace the messages it receives in the
file /usr/adm/timed.log.
Tracing can be turned on or off by the program
.IR timedc (8).
The 
.B \-n 
flag, followed by the name of a network which the host is connected to
(see: /etc/networks), overrides the default choice of the
network address made by the program.
.SH FILES
.nf
.ta \w'/usr/adm/masterlog       'u
/usr/adm/timed.log		tracing file for timed
/usr/adm/timed.masterlog	log file for master timed 
.fi
.SH "SEE ALSO"
date(1), adjtime(2), gettimeofday(2), timedc(8),
.br
\fITSP: The Time Synchronization Protocol for UNIX 4.3BSD\fP, 
R. Gusella and S. Zatti
