.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\"
.\"	@(#)syslogd.8	6.1 (Berkeley) %G%
.\"
.\"	@(#)syslog.8	4.2		7/28/83
.TH SYSLOG 8 ""
.UC 5
.SH NAME
syslogd \- log systems messages
.SH SYNOPSIS
.B /etc/syslogd
[
.BI \-m N
] [
.BI \-f name
] [
.B \-d
]
.SH DESCRIPTION
.I Syslogd
reads a datagram socket
and logs each line it reads into a set of files
described by the configuration file
/etc/syslog.conf.
Each message is one line.
A message can contain a priority code,
marked by a number in angle braces
at the beginning of the line.
Priorities are defined in
.RI < syslog.h >.
.PP
.I Syslogd
configures when it starts up
and whenever it receives a hangup signal.
The configuration file is in two sections
separated by a blank line.
The first section defines files that
.I syslogd
will log into or host names that
.I syslogd
will forward messages to.
Each line contains
a set of numbers which define the message priorities
that this file or host will receive;
an optional asterisk
which guarantees that something gets output
at least every 15 minutes;
and a pathname or a hostname prefixed by `@'.
The second part of the file
contains a list of users who will receive messages if logged in.
Each line contains an optional
set of numbers which define the message priorities
that this user will receive followed by the user's login name.
The default priority level is LOG_SALERT if none is specified.
Priority numbers may range from 1 to 31,
and may be given in comma-separated lists
and/or dash-separated ranges.
.PP
For example, the configuration file:
.nf

	1-5*/dev/console
	8-9,25/usr/spool/adm/syslog
	1-3/usr/adm/critical
	1-4@ucbarpa

	eric
	kridle
	1-5,25ralph

.fi
logs all messages of priorities 1 through 5
onto the system console,
including timing marks every 15 minutes;
all messages of priorities 8, 9 or 25
into the file /usr/spool/adm/syslog;
all messages of priorities 3 or higher
into /usr/adm/critical and
forwards all messages of priorities 4 or higher to ucbarpa.
The users ``eric'' and ``kridle''
will be informed on any subalert messages.
The user ``ralph''
will be informed on any message of priorities 5 or higher,
and any message of priority 25.
.PP
The flags are:
.TP 0.5i
.B \-m
Set the mark interval to
.I N
(default 15 minutes).
.TP
.B \-f
Specify an alternate configuration file.
.TP
.B \-d
Turn on debugging (if compiled in).
.PP
.I Syslogd
creates the file /etc/syslog.pid, if possible,
containing a single line with its process id.
This can be used to kill or reconfigure
.I syslogd.
.PP
To bring
.I syslogd
down,
it should be sent a terminate signal (e.g. kill `cat /etc/syslog.pid`).
.SH FILES
.ta \w'/etc/syslog.conf    'u
.nf
/etc/syslog.conf	the configuration file
/etc/syslog.pid	the process id
/dev/log	UNIX domain datagram socket to listen to
.fi
.SH BUGS
Kernel priorities should only be allowed to privileged programs.
.SH "SEE ALSO"
syslog(3)
