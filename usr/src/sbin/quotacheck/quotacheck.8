.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\"
.\"	@(#)quotacheck.8	6.1 (Berkeley) %G%
.\"
.TH QUOTACHECK 8 ""
.UC 5
.SH NAME
quotacheck \- file system quota consistency checker
.SH SYNOPSIS
.B /etc/quotacheck
[
.B \-v
]
filesystem...
.br
.B /etc/quotacheck
[
.B \-v
]
.B \-a
.SH DESCRIPTION
.I Quotacheck
examines each file system,
builds a table of current disc usage,
and compares this table against that stored
in the disc quota file for the file system.
If any inconsistencies are detected, both the
quota file and the current system copy of the
incorrect quotas are updated (the latter only
occurs if an active file system is checked).
.PP
If the
.B \-a
flag is supplied in place of any file system
names,
.I quotacheck
will check all the file systems indicated in
.I /etc/fstab
to be read-write with disc quotas.
.PP
Normally
.I quotacheck
reports only those quotas modified.  If the
.B \-v
option is supplied,
.I quotacheck
will indicate the calculated disc quotas for each
user on a particular file system.
.PP
.I Quotacheck
expects each file system to be checked to have a
quota file named
.I quotas
in the root directory.  If none is present, 
.I quotacheck
will ignore the file system.
.PP
.I Quotacheck 
is normally run at boot time from the
.I /etc/rc.local
file, see
.IR rc (8),
before enabling disc quotas with
.IR quotaon (8).
.PP
.I Quotacheck
accesses the raw device in calculating the actual
disc usage for each user.  Thus, the file systems
checked should be quiescent while
.I quotacheck
is running.
.SH FILES
.DT
/etc/fstab	default file systems
.SH "SEE ALSO"
quota(2), setquota(2), quotaon(8)
