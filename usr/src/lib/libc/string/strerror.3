.\" Copyright (c) 1980, 1991 Regents of the University of California.
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" the American National Standards Committee X3, on Information
.\" Processing Systems.
.\"
.\" %sccs.include.redist.man%
.\"
.\"     @(#)strerror.3	6.10 (Berkeley) %G%
.\"
.Dd 
.Dt STRERROR 3
.Os BSD 4
.Sh NAME
.Nm perror ,
.Nm strerror ,
.Nm sys_errlist ,
.Nm sys_nerr
.Nd system error messages
.Sh SYNOPSIS
.Fd #include <errno.h>
.Vt extern int errno;
.Fd #include <stdio.h>
.Vt extern int sys_nerr;
.Vt extern char *sys_errlist[];
.Fd #include <stdio.h>
.Ft void
.Fn perror "const char *string"
.Fd #include <errno.h>
.Fd #include <string.h>
.Ft char *
.Fn strerror "int errnum"
.Sh DESCRIPTION
The
.Fn strerror
and
.Fn perror
functions lookup the error message string affiliated with an
error number.
.Pp
The
.Fn sterror
function accepts an error number argument
.Fa errnum
and
returns a pointer to the corresponding
message string.
.Pp
The
.Fn perror
function finds the error message corresponding to the current
value of the global variable
.Va errno
and writes it, followed by a new-line, to the
.Em stderr .
If the argument
.Fa string
is
.Pf non- Dv NULL
it is pre-appended to the message
string and separated from it by
a colon and space
.Pq Ql \&:\ \& .
If
.Fa string
is
.Dv NULL
only the error message string is printed.
.Pp
The message strings can be accessed directly using the external
character array
.Fa sys_errlist .
The external value
.Fa sys_nerr
contains a count of the messages in
.Fa sys_errlist .
The use of these variables is deprecated;
.Fn strerror
should be used instead.
.Sh SEE ALSO
.Xr intro 2 ,
.Xr psignal 3
.Sh HISTORY
The
.Fn strerror
and
.Fn perror
functions are
.Ud .
