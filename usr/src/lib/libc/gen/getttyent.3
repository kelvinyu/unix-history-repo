.\" Copyright (c) 1985 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\"
.\"	@(#)getttyent.3	6.1 (Berkeley) %G%
.\"
.TH GETTTYENT 3  ""
.UC 6
.SH NAME
getttyent, getttynam, setttyent, endttyent \- get ttys file entry
.SH SYNOPSIS
.nf
.B #include <ttyent.h>
.PP
.B struct ttyent *getttyent()
.PP
.B struct ttyent *getttynam(name)
.B char *name;
.PP
.B int setttyent()
.PP
.B int endttyent()
.fi
.SH DESCRIPTION
.I Getttyent,
and
.I getttynam
each return a pointer to an object with the
following structure
containing the broken-out
fields of a line from the tty description file.
.RS
.PP
.nf
.so /usr/include/ttyent.h
.ft R
.ad
.fi
.RE
.PP
.IP ty_name \w'ty_comment'u+3
is the name of the character-special file in the directory ``/dev".
For various reasons, it must reside in the directory ``/dev".
.IP ty_getty
is the command (usually
.IR getty (8))
which is invoked by
.I init
to initialize tty line characteristics.
In fact, any arbitrary command can be used;
a typical use is to initiate a terminal emulator in a window system.
.IP ty_type
is the name of the default terminal type connected to this tty line. This
is typically a name from the
.IR termcap (5)
data base.
The environment variable `TERM' is initialized with this name by
.IR login (1).
.IP ty_status
is a mask of bit fields which indicate various actions to be allowed on this
tty line. The following is a description of each flag.
.RS
.IP TTY_ON \w'TTY_SECURE'u+3
Enables logins. (i.e.,
.IR init (8)
will start the specified ``getty" command
on this entry.)
.IP TTY_SECURE
Allows root to login on this terminal. Note that `TTY_ON' must be included
for this to be useful.
.RE
.IP ty_window
is the quoted string of a command to execute for a window system
associated with the line.
If none is specified, this will be a null string.
.IP ty_comment
Currently unused; could be used by finger to determine the location
of a terminal.
.PP
.I Getttyent
reads the next
line (opening the file if necessary);
.I setttyent
rewinds the file;
.I endttyent
closes it.
.PP
.I Getttynam
searches from the beginning of the file until a matching
.I name
is found
(or until EOF is encountered).
.SH FILES
/etc/ttys
.SH "SEE ALSO"
ttys(5), init(8), getty(8), login(1), gettytab(5), termcap(5), ttyslot(3)
.SH DIAGNOSTICS
Null pointer
(0) returned on EOF or error.
.SH BUGS
All information
is contained in a static area
so it must be copied if it is
to be saved.
